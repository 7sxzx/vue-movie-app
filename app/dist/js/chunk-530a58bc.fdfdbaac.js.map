{"version":3,"sources":["webpack:///./node_modules/vant/es/utils/dom/style.js","webpack:///./node_modules/core-js/library/modules/es6.array.is-array.js","webpack:///./node_modules/core-js/library/modules/_create-property.js","webpack:///./node_modules/vant/es/list/style/index.js","webpack:///./node_modules/vant/es/list/index.js","webpack:///./node_modules/core-js/library/modules/es6.array.from.js","webpack:///./node_modules/core-js/library/fn/is-iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/from.js","webpack:///./src/views/comment-detail.vue?955a","webpack:///./node_modules/core-js/library/modules/core.is-iterable.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","webpack:///./src/views/comment-detail.vue?e3bd","webpack:///src/views/comment-detail.vue","webpack:///./src/views/comment-detail.vue?e294","webpack:///./src/views/comment-detail.vue","webpack:///./node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","webpack:///./node_modules/core-js/library/fn/array/from.js","webpack:///./node_modules/core-js/library/fn/array/is-array.js"],"names":["isHidden","element","window","getComputedStyle","display","offsetParent","$export","S","isArray","$defineProperty","createDesc","module","exports","object","index","value","f","_createNamespace","createComponent","bem","t","mixins","bind","this","scroller","$el","check","model","prop","props","error","Boolean","loading","finished","errorText","String","loadingText","finishedText","immediateCheck","type","default","offset","Number","direction","mounted","watch","methods","_this","$nextTick","scrollerRect","el","getBoundingClientRect","top","bottom","innerHeight","scrollerHeight","isReachEdge","placeholderRect","$refs","placeholder","$emit","clickErrorText","render","h","arguments","Placeholder","slots","ctx","toObject","call","isArrayIter","toLength","createProperty","getIterFn","F","iter","Array","from","arrayLike","length","result","step","iterator","O","C","aLen","mapfn","undefined","mapping","iterFn","next","done","_arrayWithoutHoles","arr","i","arr2","_iterableToArray","Object","prototype","toString","_nonIterableSpread","TypeError","_toConsumableArray","classof","ITERATOR","Iterators","isIterable","it","hasOwnProperty","_vm","_h","$createElement","_c","_self","staticClass","hcmts","_v","_l","comment","key","attrs","_e","cmts","on","onReachBottom","callback","$$v","expression","staticRenderFns","components","commentSection","List","handleImgandStars","data","movieId","loadComplete","created","initPage","options","$store","commit","getComment","component"],"mappings":"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","file":"js/chunk-530a58bc.fdfdbaac.js","sourcesContent":["export function isHidden(element) {\n  return window.getComputedStyle(element).display === 'none' || element.offsetParent === null;\n}","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","import '../../style/base.css';\nimport '../index.css';","import { createNamespace } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { BindEventMixin } from '../mixins/bind-event';\nimport { getScrollEventTarget } from '../utils/dom/scroll';\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('list'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScrollEventTarget(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.check);\n  })],\n  model: {\n    prop: 'loading'\n  },\n  props: {\n    error: Boolean,\n    loading: Boolean,\n    finished: Boolean,\n    errorText: String,\n    loadingText: String,\n    finishedText: String,\n    immediateCheck: {\n      type: Boolean,\n      default: true\n    },\n    offset: {\n      type: Number,\n      default: 300\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    }\n  },\n  mounted: function mounted() {\n    if (this.immediateCheck) {\n      this.check();\n    }\n  },\n  watch: {\n    loading: 'check',\n    finished: 'check'\n  },\n  methods: {\n    check: function check() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        if (_this.loading || _this.finished || _this.error) {\n          return;\n        }\n\n        var el = _this.$el,\n            scroller = _this.scroller,\n            offset = _this.offset,\n            direction = _this.direction;\n        var scrollerRect;\n\n        if (scroller.getBoundingClientRect) {\n          scrollerRect = scroller.getBoundingClientRect();\n        } else {\n          scrollerRect = {\n            top: 0,\n            bottom: scroller.innerHeight\n          };\n        }\n\n        var scrollerHeight = scrollerRect.bottom - scrollerRect.top;\n        /* istanbul ignore next */\n\n        if (!scrollerHeight || isHidden(el)) {\n          return false;\n        }\n\n        var isReachEdge = false;\n\n        var placeholderRect = _this.$refs.placeholder.getBoundingClientRect();\n\n        if (direction === 'up') {\n          isReachEdge = placeholderRect.top - scrollerRect.top <= offset;\n        } else {\n          isReachEdge = placeholderRect.bottom - scrollerRect.bottom <= offset;\n        }\n\n        if (isReachEdge) {\n          _this.$emit('input', true);\n\n          _this.$emit('load');\n        }\n      });\n    },\n    clickErrorText: function clickErrorText() {\n      this.$emit('update:error', false);\n      this.check();\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var Placeholder = h(\"div\", {\n      \"ref\": \"placeholder\",\n      \"class\": bem('placeholder')\n    });\n    return h(\"div\", {\n      \"class\": bem(),\n      \"attrs\": {\n        \"role\": \"feed\",\n        \"aria-busy\": this.loading\n      }\n    }, [this.direction === 'down' ? this.slots() : Placeholder, this.loading && h(\"div\", {\n      \"class\": bem('loading'),\n      \"key\": \"loading\"\n    }, [this.slots('loading') || h(Loading, {\n      \"attrs\": {\n        \"size\": \"16\"\n      }\n    }, [this.loadingText || t('loading')])]), this.finished && this.finishedText && h(\"div\", {\n      \"class\": bem('finished-text')\n    }, [this.finishedText]), this.error && this.errorText && h(\"div\", {\n      \"on\": {\n        \"click\": this.clickErrorText\n      },\n      \"class\": bem('error-text')\n    }, [this.errorText]), this.direction === 'up' ? this.slots() : Placeholder]);\n  }\n});","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","import _Array$from from \"../../core-js/array/from\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArray(iter) {\n  if (_isIterable(Object(iter)) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return _Array$from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","module.exports = require(\"core-js/library/fn/array/from\");","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment-detail.vue?vue&type=style&index=0&id=150d0f98&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment-detail.vue?vue&type=style&index=0&id=150d0f98&lang=scss&scoped=true&\"","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","module.exports = require(\"core-js/library/fn/array/is-array\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comment-detail\"},[_c('div',[(_vm.hcmts.length)?_c('div',{staticClass:\"hot\"},[_c('div',{staticClass:\"comment-title\"},[_vm._v(\"热门评论\")]),_vm._l((_vm.hcmts),function(comment,index){return _c('div',{key:index},[_c('commentSection',{attrs:{\"comment\":comment}})],1)})],2):_vm._e()]),(_vm.cmts.length)?_c('div',{staticClass:\"hot\"},[_c('div',{staticClass:\"comment-title\"},[_vm._v(\"最新评论\")]),_c('List',{attrs:{\"immediate-check\":_vm.check,\"offset\":_vm.offset,\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onReachBottom},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.cmts),function(comment,index){return _c('div',{key:index},[_c('commentSection',{attrs:{\"comment\":comment}})],1)}),0)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"comment-detail\">\r\n\t\t<div>\r\n\t\t\t<div class=\"hot\" v-if=\"hcmts.length\">\r\n\t\t\t\t<div class=\"comment-title\">热门评论</div>\r\n\t\t\t\t<div v-for=\"(comment,index) in hcmts\" :key=\"index\">\r\n\t\t\t\t\t<commentSection :comment=\"comment\"></commentSection>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"hot\" v-if=\"cmts.length\">\r\n\t\t\t<div class=\"comment-title\">最新评论</div>\r\n\t\t\t<List\r\n\t\t\t\t:immediate-check=\"check\"\r\n\t\t\t\tv-model=\"loading\"\r\n\t\t\t\t:offset=\"offset\"\r\n\t\t\t\t:finished=\"finished\"\r\n\t\t\t\tfinished-text=\"没有更多了\"\r\n\t\t\t\t@load=\"onReachBottom\"\r\n\t\t\t>\r\n\t\t\t\t<div v-for=\"(comment,index) in cmts\" :key=\"index\">\r\n\t\t\t\t\t<commentSection :comment=\"comment\"></commentSection>\r\n\t\t\t\t</div>\r\n\t\t\t</List>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport commentSection from \"@/components/commentSection.vue\";\r\nimport { List } from \"vant\";\r\nimport { handleImgandStars } from \"@/mixin/handleImgandStars.js\";\r\nimport { mapState, mapMutations } from \"vuex\";\r\n\r\nexport default {\r\n  components: {\r\n    commentSection,\r\n    List\r\n  },\r\n  mixins: [handleImgandStars],\r\n  data() {\r\n    return {\r\n      movieId: \"\",\r\n      cmts: [], //最新评论\r\n      hcmts: [], //热门评论\r\n      loadComplete: false, //是否加载完\r\n      finished: false,\r\n      offset: 200,\r\n      loading: false,\r\n      check: false\r\n    };\r\n  },\r\n  created() {\r\n\r\n    const options = this.$route.query\r\n    this.initPage(options);\r\n  },\r\n\r\n  methods: {\r\n    //初始化页面\r\n    initPage(options) {\r\n      const movieId = options.movieId;\r\n      const movieName = options.movieName;\r\n      this.$store.commit('changeTitle',`观众评论-${movieName}`)\r\n      this.$store.commit('IsBackPage',true)\r\n      this.movieId = movieId;\r\n      this.getComment(movieId);\r\n    },\r\n    //获取观众评论\r\n    async getComment(movieId) {\r\n      if (this.loadComplete) {\r\n        return;\r\n      }\r\n      const cmts = this.cmts;\r\n      const res = await this.$http.get(`/movie/comments?movieId=${movieId}`);\r\n      let comments = res.data;\r\n      const newCmts = [...cmts, ...this.formatData(comments.cmts)];\r\n      this.hcmts = this.formatData(comments.hcmts);\r\n      this.cmts = newCmts;\r\n      this.loadComplete = newCmts.length >= comments.total;\r\n    },\r\n    onReachBottom() {\r\n        if (this.loadComplete) {\r\n          this.finished = true;\r\n          this.loading = false;\r\n        } else {\r\n          this.loading = true;\r\n\r\n          this.getComment(this.movieId);\r\n          // 要确定数据加载完毕在check长度，否则会多次触发\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n          }, 500);\r\n        }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.comment-title {\r\n  height: 60px;\r\n  font-size: 28px;\r\n  background: #f5f5f5;\r\n  color: #666;\r\n  line-height: 60px;\r\n  padding-left: 30px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./comment-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-detail.vue?vue&type=template&id=150d0f98&scoped=true&\"\nimport script from \"./comment-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-detail.vue?vue&type=style&index=0&id=150d0f98&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"150d0f98\",\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"core-js/library/fn/is-iterable\");","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","require('../../modules/es6.array.is-array');\nmodule.exports = require('../../modules/_core').Array.isArray;\n"],"sourceRoot":""}